generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Post {
  id        Int      @id @default(autoincrement())
  title     String
  content   String
  author    User     @relation(fields: [authorId], references: [id])
  authorId  Int      @map("author_id")
  images    String?
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
}

model Product {
  id           Int            @id @default(autoincrement())
  title        String
  description  String
  specs        String?
  createdAt    DateTime       @default(now())
  updatedAt    DateTime       @updatedAt
  authorId     Int
  author       User           @relation(fields: [authorId], references: [id])
  Productimage Productimage[]

  @@index([authorId], map: "Product_authorId_fkey")
}

model Exhibition {
  id               Int                @id @default(autoincrement())
  title            String
  description      String
  startDate        DateTime
  endDate          DateTime
  time             String?
  location         String
  createdById      Int
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  createdBy        User               @relation("UserCreatedExhibitions", fields: [createdById], references: [id])
  Exhibitionartist Exhibitionartist[]
  Exhibitionimage  Exhibitionimage[]

  @@index([createdById], map: "Exhibition_createdById_fkey")
}

model Exhibitionartist {
  exhibitionId Int
  artistId     Int
  User         User       @relation(fields: [artistId], references: [id], map: "ExhibitionArtist_artistId_fkey")
  Exhibition   Exhibition @relation(fields: [exhibitionId], references: [id], map: "ExhibitionArtist_exhibitionId_fkey")

  @@id([exhibitionId, artistId])
  @@index([artistId], map: "ExhibitionArtist_artistId_fkey")
}

model Exhibitionimage {
  id           Int        @id @default(autoincrement())
  imageUrl     String
  exhibitionId Int
}

model ExhibitionArtist {
  exhibition   Exhibition @relation(fields: [exhibitionId], references: [id])
  exhibitionId Int
  artist       User       @relation(fields: [artistId], references: [id])
  artistId     Int

  @@id([exhibitionId, artistId])
}

// Removed the Artist model
